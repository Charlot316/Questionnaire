{"version":3,"sources":["webpack:///./src/views/Login.vue?ea75","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?835e"],"names":["class","ref","model","param","rules","prop","placeholder","prefix-icon","border-radius","style","username","submitForm","password","type","label","isAutoLogin","to","data","required","message","trigger","created","$http","post","res","code","get","$store","commit","$message","success","$router","push","path","alert","methods","this","$refs","login","validate","valid","error","render","__scopeId"],"mappings":"kHAAA,W,8JCCOA,MAAM,c,GACJA,MAAM,Y,EACT,eAAkC,OAA7BA,MAAM,YAAW,UAAM,G,GACvBA,MAAM,U,GAwCDA,MAAM,W,iBACgB,Q,sOA5CpC,eAgDM,MAhDN,EAgDM,CA/CJ,eA8CM,MA9CN,EA8CM,CA7CJ,EACA,eA2CM,MA3CN,EA2CM,CA1CJ,eAkCU,GAjCRC,IAAI,QACHC,MAAO,EAAAC,MACPC,MAAO,EAAAA,O,YAER,iBAUe,CAVf,eAUe,GAVDC,KAAK,YAAU,C,WAC3B,iBAQW,CARX,eAQW,GAPTC,YAAY,MACZC,cAAY,eACZC,gBAAc,OACdC,MAAA,gB,WACS,EAAAN,MAAMO,S,qDAAN,EAAAP,MAAMO,SAAQ,IACtB,QAAK,gDAAQ,EAAAC,eAAU,a,iCAI5B,eAWe,GAXDN,KAAK,YAAU,C,WAC3B,iBASW,CATX,eASW,GARTC,YAAY,KACZC,cAAY,eACZC,gBAAc,OACdC,MAAA,gB,WACS,EAAAN,MAAMS,S,qDAAN,EAAAT,MAAMS,SAAQ,IACvBC,KAAK,WACJ,QAAK,gDAAQ,EAAAF,eAAU,a,iCAI5B,eAKe,Q,WAJb,iBAGe,CAHf,eAGe,GAFbG,MAAM,S,WACG,EAAAX,MAAMY,Y,qDAAN,EAAAZ,MAAMY,YAAW,K,+DAIhC,eAGY,UAFVf,MAAM,SACL,QAAK,+BAAE,EAAAW,gBACT,MACD,eAES,SAFT,EAES,CADP,eAA8C,GAAjCK,GAAG,aAAW,C,WAAC,iBAAI,C,mCAQ3B,G,UAAA,CACbC,KADa,WAEX,MAAO,CACLd,MAAO,CACLO,SAAU,GACVE,SAAU,GACVG,aAAa,GAEfX,MAAO,CACLM,SAAU,CACR,CAAEQ,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAEhDR,SAAU,CAAC,CAAEM,UAAU,EAAMC,QAAS,QAASC,QAAS,YAIxDC,QAhBO,WAgBG,oLACc,EAAKC,MAAMC,KAAK,uBAD9B,mBACAC,EADA,EACNP,KACS,IAAbO,EAAIC,KAFM,iCAGgB,EAAKH,MAAMI,IAAI,yBAH/B,gBAGE,EAHF,EAGJT,KACS,IAAb,EAAIQ,MACN,EAAKtB,MAAMO,SAAW,EAAIO,KAAKP,SAC/B,EAAKP,MAAMS,SAAW,EAAIK,KAAKL,SAC/B,EAAKT,MAAMY,aAAc,EACzB,EAAKY,OAAOC,OAAO,QAAS,EAAKzB,MAAMO,UACvC,EAAKmB,SAASC,QAAQ,QACtB,EAAKC,QAAQC,KAAK,CAAEC,KAAM,aAG1BC,MAAM,YAbI,+CAiBhBC,QAAS,CAEPxB,WAFO,WAEM,WACXyB,KAAKC,MAAMC,MAAMC,SAAjB,yDAA0B,WAAOC,GAAP,4FACnBA,EADmB,wDAIO,IAA3B,EAAKrC,MAAMY,YAAsB,EAAKZ,MAAMY,YAAc,EACzD,EAAKZ,MAAMY,YAAc,EALN,SAMI,EAAKO,MAAMC,KAAK,kBAAmB,EAAKpB,OAN5C,mBAMVqB,EANU,EAMhBP,KACS,IAAbO,EAAIC,KAPgB,yCAQf,EAAKI,SAASY,MAAMjB,EAAIP,OART,OASO,IAA3B,EAAKd,MAAMY,YAAmB,EAAKZ,MAAMY,aAAc,EACtD,EAAKZ,MAAMY,aAAc,EAC9B,EAAKc,SAASC,QAAQ,QACtB,EAAKC,QAAQC,KAAK,CAAEC,KAAM,YAC1B,EAAKN,OAAOC,OAAO,QAAS,EAAKzB,MAAMO,UAbf,4CAA1B,kCAAA0B,KAAA,oB,UCpFN,EAAOM,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"static/js/chunk-5553c02b.f50580fd.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=c4e7bdfe&scoped=true&lang=css\"","<template>\r\n  <div class=\"login-wrap\">\r\n    <div class=\"ms-login\">\r\n      <div class=\"ms-title\">问卷星球登录</div>\r\n      <div class=\"input1\">\r\n        <el-form\r\n          ref=\"login\"\r\n          :model=\"param\"\r\n          :rules=\"rules\"\r\n        >\r\n          <el-form-item prop=\"username\">\r\n            <el-input\r\n              placeholder=\"用户名\"\r\n              prefix-icon=\"el-icon-user\"\r\n              border-radius=\"30px\"\r\n              style=\"height: 40px\"\r\n              v-model=\"param.username\"\r\n              @keyup.enter=\"submitForm()\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input\r\n              placeholder=\"密码\"\r\n              prefix-icon=\"el-icon-lock\"\r\n              border-radius=\"30px\"\r\n              style=\"height: 40px\"\r\n              v-model=\"param.password\"\r\n              type=\"password\"\r\n              @keyup.enter=\"submitForm()\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-checkbox\r\n              label=\"下次自动登录\"\r\n              v-model=\"param.isAutoLogin\"\r\n            ></el-checkbox>\r\n          </el-form-item>\r\n        </el-form>\r\n        <button\r\n          class=\"button\"\r\n          @click=\"submitForm()\"\r\n        >登录</button>\r\n        <button class=\"button1\">\r\n          <router-link to=\"/register\">立即注册</router-link>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      param: {\r\n        username: \"\",\r\n        password: \"\",\r\n        isAutoLogin: false,\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n        ],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  async created() {\r\n    const { data: res } = await this.$http.post(\"/api/user/loginTest\");\r\n    if (res.code === 0) {\r\n      const { data: res } = await this.$http.get(\"/api/user/information\");\r\n      if (res.code === 0) {\r\n        this.param.username = res.data.username;\r\n        this.param.password = res.data.password;\r\n        this.param.isAutoLogin = true;\r\n        this.$store.commit(\"login\", this.param.username);\r\n        this.$message.success(\"登录成功\");\r\n        this.$router.push({ path: \"/manage\" });\r\n      }\r\n      else {\r\n        alert(\"获取用户信息失败\");\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    submitForm() {\r\n      this.$refs.login.validate(async (valid) => {\r\n        if (!valid) {\r\n          return;\r\n        }\r\n        if (this.param.isAutoLogin === true) this.param.isAutoLogin = 1;\r\n        else this.param.isAutoLogin = 0;\r\n        const { data: res } = await this.$http.post(\"/api/user/login\", this.param);\r\n        if (res.code !== 0)\r\n          return this.$message.error(res.data);\r\n        if (this.param.isAutoLogin === 1) this.param.isAutoLogin = true;\r\n        else this.param.isAutoLogin = false;\r\n        this.$message.success(\"登录成功\");\r\n        this.$router.push({ path: \"/manage\" });\r\n        this.$store.commit(\"login\", this.param.username);\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-wrap {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #ffdee9;\r\n  background-image: url(../assets/img/loginbg.jpg);\r\n  background-size: 100%;\r\n}\r\n.ms-title {\r\n  width: 100%;\r\n  line-height: 50px;\r\n  padding-left: 8%;\r\n  padding-top: 5%;\r\n  /* text-align: left; */\r\n  font-size: 25px;\r\n  font-weight: 900;\r\n  color: rgb(240, 138, 54);\r\n}\r\n.ms-login {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 40%;\r\n  width: 500px;\r\n  height: 500px;\r\n  margin: -190px 0 0 -175px;\r\n  border-radius: 15px;\r\n  background-color: #fff;\r\n  /* background: rgba(240, 240, 243, 0.945); */\r\n  overflow: hidden;\r\n}\r\n.ms-content {\r\n  padding: 30px 30px;\r\n}\r\n.login-btn {\r\n  text-align: center;\r\n}\r\n.login-btn button {\r\n  width: 100%;\r\n  height: 36px;\r\n  margin-bottom: 10px;\r\n}\r\n.login-tips {\r\n  font-size: 12px;\r\n  line-height: 30px;\r\n  color: #fff;\r\n}\r\n.input1 {\r\n  width: 84%;\r\n  margin-left: 8%;\r\n  margin-top: 5%;\r\n}\r\n.el-form-item {\r\n  margin-top: 5px;\r\n}\r\n.button {\r\n  background-color: rgb(240, 138, 54);\r\n  border: none;\r\n  color: white;\r\n  /* padding: 15px 32px; */\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  margin: 4px 2px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 40px;\r\n  border-radius: 20px;\r\n}\r\n.button1 {\r\n  background-color: white;\r\n  border: none;\r\n  color: rgb(240, 138, 54);\r\n  /* padding: 15px 32px; */\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  margin: 4px 2px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 40px;\r\n  border-radius: 20px;\r\n}\r\na {\r\n  color: rgb(240, 138, 54);\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=c4e7bdfe&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=c4e7bdfe&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-c4e7bdfe\"\n\nexport default script"],"sourceRoot":""}